# üéõÔ∏è MenuLCD1602 Project

–ü—Ä–æ–µ–∫—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–µ–Ω—é –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ LCD1602 —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [lcd1602sdl2sym](https://github.com/GrandFatherPikhto/lcd1602sdl2sym).

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [üéØ –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ](#-–æ–±—â–µ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ)
- [üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#Ô∏è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [üîß –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å–±–æ—Ä–∫–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [üìÅ –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤](#-–æ–ø–∏—Å–∞–Ω–∏–µ-—Ñ–∞–π–ª–æ–≤)
- [üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–µ–Ω—é](#-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-–º–µ–Ω—é)
- [üêõ –û—Ç–ª–∞–¥–∫–∞](#-–æ—Ç–ª–∞–¥–∫–∞)

## üéØ –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

**MenuLCD1602** - —ç—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –º–µ–Ω—é –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ LCD –¥–∏—Å–ø–ª–µ—è 1602. –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:

- **–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–µ–Ω—é** –∏–∑ Python-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
- **[–≠–º—É–ª—è—Ç–æ—Ä LCD1602](https://github.com/GrandFatherPikhto/lcd1602sdl2sym)** –Ω–∞ –±–∞–∑–µ [SDL2](https://www.libsdl.org/)
- **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —ç–Ω–∫–æ–¥–µ—Ä** –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –º–µ–Ω—é

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
MenuLCD1602/
‚îú‚îÄ‚îÄ üìÅ main/                          # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ CMakeLists.txt               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ main
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ src/
‚îÇ       ‚îú‚îÄ‚îÄ üìÅ include/              # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ common.h
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ lcd1602.h
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ lcd1602_data.h       # Callback-—Ñ—É–Ω–∫—Ü–∏–∏ –º–µ–Ω—é
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ rotary_encoder.h
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ rotenc_callback.h
‚îÇ       ‚îú‚îÄ‚îÄ main.c                   # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ lcd1602_data.c           # –î–∞–Ω–Ω—ã–µ –∏ callback'–∏ –º–µ–Ω—é
‚îÇ       ‚îî‚îÄ‚îÄ ...                      # –î—Ä—É–≥–∏–µ –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ üìÅ menu/                         # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ CMakeLists.txt               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ –º–µ–Ω—é
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ src/
‚îÇ       ‚îú‚îÄ‚îÄ üìÅ include/              # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –º–µ–Ω—é
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ menu.h
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ menu_context.h
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ menu_type.h
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ       ‚îî‚îÄ‚îÄ *.c                      # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ CMakeLists.txt                   # –ö–æ—Ä–Ω–µ–≤–æ–π CMake
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
# Ubuntu/Debian
sudo apt-get install libsdl2-dev libsdl2-ttf-dev cmake build-essential

# Arch Linux
sudo pacman -S sdl2 sdl2_ttf cmake gcc

# macOS (—Å Homebrew)
brew install sdl2 sdl2_ttf cmake
```

2. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏ —Å–æ–±–µ—Ä–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É lcd1602sdl2sym:**
```bash
git clone https://github.com/GrandFatherPikhto/lcd1602sdl2sym.git
cd lcd1602sdl2sym
mkdir build && cd build
cmake .. && make
sudo make install  # –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
```

### –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
git clone <your-repo-url>
cd MenuLCD1602

# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–±–æ—Ä–∫–∏
mkdir build
cd build

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏ —Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
cmake ..
make

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
./main/Simulator
```

## üîß –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–µ–π

–í —Ñ–∞–π–ª–µ `main/CMakeLists.txt` —É–∫–∞–∂–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ LCD1602:

```cmake
# –ó–∞–º–µ–Ω–∏—Ç–µ –ø—É—Ç—å –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π
set(LCD1602_DIR "/path/to/your/lcd1602sdl2sym/cmake")
```

```cmake
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É menu
target_link_libraries(${PROJECT_NAME} PRIVATE
    LCD1602::LCD1602
    Menu
)
```

# –î–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è —á—Ç–æ-—Ç–æ —Ç–∞–∫–æ–µ:
```cmake
cmake_minimum_required(VERSION 3.5.0)

project(Simulator VERSION 0.1.0 LANGUAGES C)

set(LCD1602_DIR "../../../lcd1602sdl02sym/cmake")

message("Source dir: ${CMAKE_CURRENT_SOURCE_DIR}")

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ Config —Ñ–∞–π–ª–∞
if(NOT EXISTS "${LCD1602_DIR}/LCD1602Config.cmake")
    message(FATAL_ERROR "LCD1602Config.cmake not found at: ${LCD1602_DIR}")
endif()

# –ù–∞—Ö–æ–¥–∏–º libconfig
find_package(PkgConfig REQUIRED)
find_package(SDL2 REQUIRED)
find_package(SDL2_ttf REQUIRED)
find_package(LCD1602 REQUIRED)

set(EXEC_SOURCES
    src/main.c
    src/lcd1602_data.c
)

set(INCLUDE_DIRECTORIES
    ${CMAKE_CURRENT_SOURCE_DIR}/src/include
    ${LCD1602_INCLUDE_DIRS}
    ../menu/src/include
)

message("LCD1602 Include Dir ${LCD1602_INCLUDE_DIRS}")

add_executable(${PROJECT_NAME}
    ${EXEC_SOURCES} 
    ${INCLUDES})

target_link_libraries(${PROJECT_NAME} PRIVATE
    # ${LIB_NAME}
    LCD1602::LCD1602
    Menu
)

target_include_directories(${PROJECT_NAME} PRIVATE 
    ${INCLUDE_DIRECTORIES}
    ${SDL2_INCLUDE_DIRS}
    ${LCD1602_INCLUDE_DIRS}
    ${LIB_LCD1602SDL_INCLUDE}
)

set_target_properties(${EXEC_NAME} PROPERTIES
    VERSION 1.0
    SOVERSION 1
)
```

### –û–ø—Ü–∏–∏ —Å–±–æ—Ä–∫–∏

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CMake —Å —Å–ª–µ–¥—É—é—â–∏–º–∏ —Ü–µ–ª—è–º–∏:

- **Menu** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–µ–Ω—é
- **Simulator** - –≥–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —ç–º—É–ª—è—Ç–æ—Ä–æ–º

## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —ç–º—É–ª–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º —ç–Ω–∫–æ–¥–µ—Ä–æ–º:

- **üîÑ –ü–æ–≤–æ—Ä–æ—Ç —ç–Ω–∫–æ–¥–µ—Ä–∞** - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–µ–Ω—é
- **üîò –ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∂–∞—Ç–∏–µ** - –≤—Ö–æ–¥ –≤ –ø—É–Ω–∫—Ç/–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- **üîò –î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ** - –≤–æ–∑–≤—Ä–∞—Ç/–æ—Ç–º–µ–Ω–∞  
- **üîò –î–≤–æ–π–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ** - —Å–±—Ä–æ—Å –∑–Ω–∞—á–µ–Ω–∏–π

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å LCD1602

–î–∏—Å–ø–ª–µ–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–≤–µ —Å—Ç—Ä–æ–∫–∏:
- **–í–µ—Ä—Ö–Ω—è—è —Å—Ç—Ä–æ–∫–∞**: –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø—É–Ω–∫—Ç–∞ –º–µ–Ω—é
- **–ù–∏–∂–Ω—è—è —Å—Ç—Ä–æ–∫–∞**: –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –ø–æ–¥–ø—É–Ω–∫—Ç—ã

## üìÅ –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

### –ì–ª–∞–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### `main.c`
–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –º–µ–Ω—é –∏ —ç–º—É–ª—è—Ç–æ—Ä–∞ LCD
- Callback-—Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π —ç–Ω–∫–æ–¥–µ—Ä–∞
- –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –§—É–Ω–∫—Ü–∏—é –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –º–µ–Ω—é –Ω–∞ LCD

#### `lcd1602_data.c`
–°–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ callback-—Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–µ–Ω—é:
- `pwm_frequency_display_cb()` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –®–ò–ú
- `pwm_frequency_change_cb()` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –®–ò–ú
- `draw_version_cb()` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ—à–∏–≤–∫–∏
- `rotenc_hi_duty_changed()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∫–≤–∞–∂–Ω–æ—Å—Ç–∏

### –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –º–µ–Ω—é

–§–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `menu/src/` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è Python-—Å–∫—Ä–∏–ø—Ç–æ–º –∏ –≤–∫–ª—é—á–∞—é—Ç:

- **`menu.h`** - –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª
- **`menu_context.h/c`** - –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–Ω—é
- **`menu_type.h`** - —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- **`menu_navigate.h/c`** - —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- **`menu_draw.h/c`** - —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏

## üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–µ–Ω—é

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω—é

```c
// –í main.c
menu_init();  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –º–µ–Ω—é
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π —ç–Ω–∫–æ–¥–µ—Ä–∞

```c
void on_position_change(int new_pos) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–≤–æ—Ä–æ—Ç–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞
    menu_position(delta);
}

void on_push_button() {
    // –ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∂–∞—Ç–∏–µ - –≤—Ö–æ–¥
    menu_enter();
}

void on_long_push_button() {
    // –î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ - –≤–æ–∑–≤—Ä–∞—Ç
    menu_back();
}
```

### –†–∞–±–æ—Ç–∞ —Å –æ—Ç—Ä–∏—Å–æ–≤–∫–æ–π

```c
void menu_draw(sdl_handle_t *lcd) {
    lcd_sdl_clear(lcd);
    lcd_sdl_set_cursor(lcd, 0, 0);
    lcd_sdl_print_str(lcd, menu_title_buf());  // –ó–∞–≥–æ–ª–æ–≤–æ–∫
    lcd_sdl_set_cursor(lcd, 0, 1);
    lcd_sdl_print_str(lcd, menu_value_buf());  // –ó–Ω–∞—á–µ–Ω–∏–µ
}
```

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ callback-—Ñ—É–Ω–∫—Ü–∏–∏

–ü—Ä–∏–º–µ—Ä callback-—Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã:

```c
void pwm_frequency_display_cb(menu_context_t *ctx, menu_id_t id) {
    char *value_str = menu_value_buf();
    // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã
    // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–ª–∞–≥–∞ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏
    menu_set_dirty();
}
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

–î–æ–±–∞–≤—å—Ç–µ –≤ `main.c`:

```c
#include <signal.h>
#include <execinfo.h>

void signal_handler(int sig) {
    void *array[10];
    size_t size = backtrace(array, 10);
    fprintf(stderr, "Error: signal %d:\n", sig);
    backtrace_symbols_fd(array, size, STDERR_FILENO);
    exit(1);
}

int main() {
    signal(SIGSEGV, signal_handler);
    signal(SIGABRT, signal_handler);
    // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –º–µ–Ω—é

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ LCD
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é** —Å –ø–æ–º–æ—â—å—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —ç–Ω–∫–æ–¥–µ—Ä–∞
3. **–£–±–µ–¥–∏—Ç–µ—Å—å**, —á—Ç–æ callback-—Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É** —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (—á–∏—Å–ª–∞, —Å—Ç—Ä–æ–∫–∏, –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è)

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ LCD1602 –Ω–µ –Ω–∞–π–¥–µ–Ω–∞**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –≤ `main/CMakeLists.txt`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å–æ–±—Ä–∞–Ω–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞

2. **–ú–µ–Ω—é –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–∑–æ–≤ `menu_init()`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ callback-—Ñ—É–Ω–∫—Ü–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

3. **–ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π —ç–Ω–∫–æ–¥–µ—Ä–∞
   - –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–µ delta –≤ `menu_position()`

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é

–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–µ–Ω—é:

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—É—Ç–∏ –≤—ã–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ ```config/files.json``` –≤ [Menu Processor](https://github.com/GrandFatherPikhto/menu_processor)**
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä** –º–µ–Ω—é –∏–∑ Python-–ø—Ä–æ–µ–∫—Ç–∞ **Menu Processor**
3. **–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç**
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ** –Ω–æ–≤–æ–µ –º–µ–Ω—é

---
